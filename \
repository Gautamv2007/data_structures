#include <stdio.h>
#include <stdlib.h>

struct node{
  int data;
  struct node *next;
};

struct node *head = NULL;

void ins_begin(void){
  struct node *temp;
  temp = (struct node*)malloc(sizeof(struct node));
  scanf("%d", &temp->data);
  if (head == NULL){
    head = temp;
    temp->next = NULL;
    return;
  }
  temp->next = head;
  head = temp;
}

void display(void){
  struct node *p;
  p = head;
  while(p != NULL){
    printf("%d ", p->data);
    p = p->next;
  }
}

void reverse(void){
  struct node *prev, *curr, *next;
  prev = NULL;
  curr = head;
  next = NULL;
  while(curr != NULL){
    next = curr->next;
    curr->next = prev;
    prev = curr;
    curr = next;
  }
  head = prev;
}

void reverse_display(struct node *p){
  if (p == NULL){
    return;
  }
  reverse_display(p->next);
  printf("%d ", p->data);
}


void delete_pos(void){
  int pos;
  scanf("%d", &pos);
  struct node *p;
  p = head;
  for(int i = 1;i<pos;i++){
    p = p->next;
  }
  struct node *temp = p->next;
  p->next = temp->next;
  free(temp);
}

int main(void){
  while(1){
    int ch;
    scanf("%d", &ch);
    switch(ch){
      case 1:
        ins_begin();
        break;
      case 2:
        display();
        break;
      case 3:
        return 0;
      case 4:
        reverse();
        break;
      case 5:
        reverse_display(head);
        break;
      case 6:
        delete_pos();
        break;
    }
  }
}
